"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[647],{80616:function(e,n,t){t.d(n,{A:function(){return x},Z:function(){return h}});var r=t(47047),i=t(53767),a=t(68870),c=t(20890),l=t(72791),o=t(22020),s=t(96106),u=t(25617),f=t(66624),d=t(80184);function h(e){var n=e.children,t=e.artifactSheet,r=e.numInSet,i=void 0===r?5:r;return(0,d.jsx)(s.Z,{placement:"top",title:(0,d.jsx)(x,{artifactSheet:t,numInSet:i}),disableInteractive:!0,children:n})}function x(e){var n=e.artifactSheet,t=e.numInSet,i=void 0===t?5:t;return(0,d.jsx)(l.Suspense,{fallback:(0,d.jsx)(r.Z,{variant:"rectangular",width:100,height:100}),children:(0,d.jsx)(v,{artifactSheet:n,numInSet:i})})}function v(e){var n=e.artifactSheet,t=e.numInSet,r=void 0===t?5:t,l=(0,o.$)("sheet").t;return(0,d.jsx)(i.Z,{spacing:2,sx:{p:1},children:Object.keys(n.setEffects).map((function(e){return(0,d.jsxs)(a.Z,{sx:{opacity:parseInt(e)<=r?1:.5},children:[(0,d.jsx)(c.Z,{children:(0,d.jsx)(u.Z,{color:"success",children:l("".concat(e,"set"))})}),(0,d.jsx)(c.Z,{children:(0,d.jsx)(f.v,{ns:"artifact_".concat(n.key,"_gen"),key18:"setEffects.".concat(e)})})]},e)}))})}},15678:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(93433),i=t(61889),a=t(90388),c=t(68870),l=t(79406),o=t(50765),s=t(91839),u=t(75545),f=t(80184);function d(e){var n=e.selectedKeys,t=e.onChange,d=o._.slice(0,6),h=o._.slice(6),x=n.filter((function(e){return d.includes(e)})),v=n.filter((function(e){return h.includes(e)}));return(0,f.jsxs)(i.ZP,{container:!0,spacing:1,children:[(0,f.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,f.jsx)(s.Z,{fullWidth:!0,value:x,onChange:function(e,n){return t([].concat((0,r.Z)(v),(0,r.Z)(n)))},sx:{height:"100%"},children:d.map((function(e){return(0,f.jsx)(a.Z,{size:"small",value:e,children:(0,f.jsxs)(c.Z,{display:"flex",gap:1,alignItems:"center",children:[u.Z[e],l.ZP.getArtStr(e)]})},e)}))})}),(0,f.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,f.jsx)(s.Z,{fullWidth:!0,value:v,onChange:function(e,n){return t([].concat((0,r.Z)(x),(0,r.Z)(n)))},sx:{height:"100%"},children:h.map((function(e){return(0,f.jsx)(a.Z,{size:"small",value:e,children:(0,f.jsxs)(c.Z,{display:"flex",gap:1,alignItems:"center",children:[u.Z[e],l.ZP.getArtStr(e)]})},e)}))})})]})}},30066:function(e,n,t){t.d(n,{W:function(){return m}});var r,i=t(30168),a=t(93433),c=t(63204),l=t(47047),o=t(72791),s=t(22020),u=t(947),f=t(90288),d=t(31096),h=t(69210),x=t(42320),v=t(24351),y=t(84082),Z=t(2380),p=t(80184);function m(e){var n=e.location,t=e.setLocation,m=e.filter,g=void 0===m?function(){return!0}:m,j=(0,s.$)(["ui","artifact","charNames_gen"]).t,b=(0,o.useContext)(d.t).database,k=(0,h.Z)(b),w=(0,x.Z)((function(){return u.Z.getAll}),[]),S=(0,o.useCallback)((function(e){return j("charNames_gen:".concat((0,v.LP)(b.chars.LocationToCharacterKey(e),k)))}),[b,k,j]),E=(0,o.useCallback)((function(e){var n;return""===e?(0,p.jsx)(c.Z,{}):w?(0,p.jsx)(Z.Z,{src:null===(n=w(b.chars.LocationToCharacterKey(e),k))||void 0===n?void 0:n.thumbImgSide,sx:{pr:1}}):(0,p.jsx)(p.Fragment,{})}),[b,k,w]),I=(0,o.useCallback)((function(e){return"Traveler"===e?v._0.some((function(e){return b.states.getWithInit("charMeta_".concat(e),f.Bm).favorite})):!!e&&b.states.getWithInit("charMeta_".concat(e),f.Bm).favorite}),[b]),C=(0,o.useMemo)((function(){return[{key:"",label:j(r||(r=(0,i.Z)(["artifact:filterLocation.inventory"])))}].concat((0,a.Z)(Array.from(new Set(b.chars.keys.filter((function(e){return null===w||void 0===w||!w(e,k)||g(w(e,k))})).map((function(e){return(0,v.V7)(e)})))).map((function(e){return{key:e,label:S(e),favorite:I(e)}})).sort((function(e,n){return e.favorite&&!n.favorite?-1:!e.favorite&&n.favorite?1:e.label.localeCompare(n.label)}))))}),[j,S,I,b,w,g,k]);return(0,p.jsx)(o.Suspense,{fallback:(0,p.jsx)(l.Z,{variant:"text",width:100}),children:(0,p.jsx)(y.Z,{size:"small",options:C,valueKey:n,onChange:t,toImg:E,clearKey:""})})}},40020:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(63204),i=t(20890),a=t(72791),c=t(22020),l=t(947),o=t(31096),s=t(69210),u=t(42320),f=t(80184);function d(e){var n=e.location,t=(0,c.$)("ui").t,d=(0,a.useContext)(o.t).database,h=(0,s.Z)(d),x=(0,u.Z)((function(){return l.Z.get(n&&d?d.chars.LocationToCharacterKey(n):"",h)}),[n,h,d]);return(0,f.jsx)(i.Z,{component:"span",children:null!==x&&void 0!==x&&x.name?x.nameWIthIcon:(0,f.jsxs)("span",{children:[(0,f.jsx)(r.Z,{sx:{verticalAlign:"text-bottom"}})," ",t("inventory")]})})}},2380:function(e,n,t){var r=(0,t(93457).Z)("img")((function(e){var n=e.theme;return{display:"inline-block",width:"auto",height:"2.3em",lineHeight:1,verticalAlign:"text-bottom",marginTop:n.spacing(-3),marginLeft:n.spacing(-1.25),marginRight:n.spacing(-1),marginBottom:n.spacing(-1)}}));n.Z=r},84082:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(1413),i=t(14361),a=t(94198),c=t(23786),l=t(57064),o=t(49900),s=t(47047),u=t(72791),f=t(68244),d=t(80184);function h(e){var n=e.options,t=e.valueKey,h=e.label,x=e.onChange,v=e.disable,y=void 0===v?function(){return!1}:v,Z=e.clearKey,p=e.toImg,m=n.find((function(e){return e.key===t}));return(0,d.jsx)(a.Z,{options:n,value:m,clearIcon:t!==Z?void 0:null,onChange:function(e,n,t){return"clear"===t&&void 0!==Z?x(Z):null!==n&&x(n.key)},isOptionEqualToValue:function(e,n){return e.key===n.key},getOptionDisabled:function(e){return y(e.key)},renderInput:function(e){return(0,d.jsx)(f.Z,(0,r.Z)((0,r.Z)({},e),{},{label:h,startAdornment:void 0!==m?p(m.key):void 0,hasValue:!(null===m||void 0===m||!m.key)}))},renderOption:function(e,n){return(0,d.jsxs)(c.Z,(0,r.Z)((0,r.Z)({value:n.key},e),{},{children:[(0,d.jsx)(l.Z,{children:p(n.key)}),(0,d.jsx)(o.Z,{children:(0,d.jsx)(u.Suspense,{fallback:(0,d.jsx)(s.Z,{variant:"text",width:100}),children:n.key===(null===m||void 0===m?void 0:m.key)?(0,d.jsx)("strong",{children:n.label}):n.label})}),!!n.favorite&&(0,d.jsx)(i.Z,{})]}))}})}},55221:function(e,n,t){var r=t(1413),i=t(45987),a=t(53174),c=t(54483),l=t(68870),o=t(96106),s=t(80184),u=["className"];n.Z=function(e){var n=e.className,t=(0,i.Z)(e,u);return(0,s.jsx)(o.Z,(0,r.Z)((0,r.Z)({placement:"top"},t),{},{className:n,children:(0,s.jsx)(l.Z,{component:"span",sx:{cursor:"help"},children:(0,s.jsx)(c.G,{icon:a.sqG})})}))}},901:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(29439),i=t(25617),a=t(60393),c=t(80184);function l(e){var n=e.value,t=e.max,l=void 0===t?1:t,o=e.valid,s="number"===typeof n?["roll".concat((0,a.uZ)(Math.floor(n/l*10)-4,1,6)),n.toFixed()+"%"]:["secondary",n],u=(0,r.Z)(s,2),f=u[0],d=u[1];return n>l&&(o=!1),o||(f="error"),(0,c.jsx)(i.Z,{color:f,children:d})}},68244:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(1413),i=t(45987),a=t(13967),c=t(58165),l=t(80184),o=["hasValue","startAdornment","InputProps","sx"];function s(e){var n=e.hasValue,t=e.startAdornment,s=e.InputProps,u=e.sx,f=(0,i.Z)(e,o),d=(0,a.Z)();return(0,l.jsx)(c.Z,(0,r.Z)((0,r.Z)({},f),{},{variant:"filled",color:n?"success":"primary",hiddenLabel:!f.label,type:"search",InputProps:(0,r.Z)((0,r.Z)({},s),{},{startAdornment:t}),InputLabelProps:{style:{color:d.palette.text.primary}},sx:(0,r.Z)((0,r.Z)({},u),{},{"& .MuiFilledInput-root":{backgroundColor:n?d.palette.success.main:d.palette.primary.main,paddingTop:f.label?void 0:0,paddingBottom:0,flexWrap:"nowrap"},"& .MuiFilledInput-root.Mui-focused":{backgroundColor:n?d.palette.success.light:d.palette.primary.light},"& .MuiFilledInput-root:hover":{backgroundColor:n?d.palette.success.dark:d.palette.primary.dark},"& .MuiFilledInput-root:before":{border:"none"},"& .MuiFilledInput-root.Mui-disabled:before":{border:"none"},"& .MuiFilledInput-root:after":{border:"none"},"& .MuiFilledInput-root:hover:not(.Mui-disabled):before":{border:"none"},"& input[type=search]::-ms-clear":{display:"none",width:0,height:0},"& input[type=search]::-ms-reveal":{display:"none",width:0,height:0},"& input[type=search]::-webkit-search-decoration":{display:"none"},"& input[type=search]::-webkit-search-cancel-button":{display:"none"},"& input[type=search]::-webkit-search-results-button":{display:"none"},"& input[type=search]::-webkit-search-results-decoration":{display:"none"}})}))}},72838:function(e,n,t){t.d(n,{N:function(){return X},Z:function(){return Q}});var r,i,a,c,l=t(93433),o=t(30168),s=t(29439),u=t(53174),f=t(54483),d=t(40117),h=t(62002),x=t(66647),v=t(68870),y=t(47047),Z=t(20890),p=t(13400),m=t(81918),g=t(39504),j=t(2199),b=t(40165),k=t(24518),w=t(72791),S=t(22020),E=t(80616),I=t(95614),C=t(71310),P=t(30066),M=t(40020),A=t(91702),_=t(20005),K=t(55221),L=t(901),O=t(10157),F=t(75545),G=t(98620),z=t(31148),N=t(31096),W=t(79406),V=t(63372),T=t(42320),D=t(50765),R=t(24351),q=t(60393),B=t(80184),H=(0,w.lazy)((function(){return Promise.all([t.e(219),t.e(213)]).then(t.bind(t,66585))})),$=new Set(D._);function Q(e){var n,t,l,q=e.artifactId,Q=e.artifactObj,X=e.onClick,J=e.onDelete,Y=e.mainStatAssumptionLevel,ee=void 0===Y?0:Y,ne=e.effFilter,te=void 0===ne?$:ne,re=e.editor,ie=void 0!==re&&re,ae=e.canExclude,ce=void 0!==ae&&ae,le=e.canEquip,oe=void 0!==le&&le,se=e.extraButtons,ue=(0,S.$)(["artifact","ui"]).t,fe=(0,w.useContext)(N.t).database,de=(0,V.Z)(q),he=(0,T.Z)((function(){var e;return z.y.get(null===(e=null!==Q&&void 0!==Q?Q:de)||void 0===e?void 0:e.setKey)}),[Q,de]),xe=(0,w.useCallback)((function(e){return q&&fe.arts.set(q,{location:e})}),[fe,q]),ve=!Q,ye=(0,w.useState)(!1),Ze=(0,s.Z)(ye,2),pe=Ze[0],me=Ze[1],ge=(0,w.useCallback)((function(){return me(!1)}),[me]),je=(0,w.useCallback)((function(){return ve&&me(!0)}),[ve,me]),be=(0,w.useCallback)((function(e){return(0,B.jsx)(x.Z,{onClick:function(){return q&&(null===X||void 0===X?void 0:X(q))},sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[X,q]),ke=(0,w.useCallback)((function(e){return(0,B.jsx)(v.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[]),we=null!==Q&&void 0!==Q?Q:de,Se=(0,w.useMemo)((function(){if(!we)return{currentEfficiency:0,maxEfficiency:0,currentEfficiency_:0,maxEfficiency_:0};var e=G.ZP.getArtifactEfficiency(we,te),n=e.currentEfficiency,t=e.maxEfficiency,r=G.ZP.getArtifactEfficiency(we,new Set(D._));return{currentEfficiency:n,maxEfficiency:t,currentEfficiency_:r.currentEfficiency,maxEfficiency_:r.maxEfficiency}}),[we,te]),Ee=Se.currentEfficiency,Ie=Se.maxEfficiency,Ce=Se.currentEfficiency_,Pe=Se.maxEfficiency_;if(!we)return null;var Me=we.id,Ae=we.lock,_e=we.slotKey,Ke=we.rarity,Le=we.level,Oe=we.mainStatKey,Fe=we.substats,Ge=we.exclude,ze=we.location,Ne=void 0===ze?"":ze,We=Math.max(Math.min(ee,4*Ke),Le),Ve=W.ZP.unit(Oe),Te=0!==Ie,De=null===he||void 0===he?void 0:he.getSlotName(_e),Re=null===he||void 0===he?void 0:he.getSlotDesc(_e),qe=Re&&(0,B.jsx)(K.Z,{title:(0,B.jsxs)(v.Z,{children:[(0,B.jsx)(w.Suspense,{fallback:(0,B.jsx)(y.Z,{variant:"text",width:100}),children:(0,B.jsx)(Z.Z,{variant:"h6",children:De})}),(0,B.jsx)(Z.Z,{children:Re})]})}),Be=R.Kj.find((function(e){return Oe.startsWith(e)})),He=Be?(0,B.jsx)(A.Z,{color:Be,children:F.Z[Oe]}):F.Z[Oe];return(0,B.jsxs)(w.Suspense,{fallback:(0,B.jsx)(y.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:[ie&&(0,B.jsx)(w.Suspense,{fallback:!1,children:(0,B.jsx)(H,{artifactIdToEdit:pe?q:"",cancelEdit:ge})}),(0,B.jsxs)(C.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,B.jsxs)(_.Z,{condition:!!X,wrapper:be,falseWrapper:ke,children:[(0,B.jsxs)(v.Z,{className:"grad-".concat(Ke,"star"),sx:{position:"relative",width:"100%"},children:[!X&&(0,B.jsx)(p.Z,{color:"primary",disabled:!ve,onClick:function(){return fe.arts.set(Me,{lock:!Ae})},sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:Ae?(0,B.jsx)(d.Z,{}):(0,B.jsx)(h.Z,{})}),(0,B.jsxs)(v.Z,{sx:{pt:2,px:2,position:"relative",zIndex:1},children:[(0,B.jsxs)(v.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,B.jsx)(m.Z,{size:"small",label:(0,B.jsx)("strong",{children:" +".concat(Le)}),color:G.ZP.levelVariant(Le)}),!De&&(0,B.jsx)(y.Z,{variant:"text",width:100}),De&&(0,B.jsx)(Z.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1},children:(0,B.jsx)("strong",{children:De})}),!qe&&(0,B.jsx)(y.Z,{width:10}),qe]}),(0,B.jsx)(Z.Z,{color:"text.secondary",variant:"body2",children:(0,B.jsx)(I.ZP,{slotKey:_e})}),(0,B.jsxs)(Z.Z,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[He,(0,B.jsx)("span",{children:W.ZP.get(Oe)})]}),(0,B.jsx)(Z.Z,{variant:"h5",children:(0,B.jsx)("strong",{children:(0,B.jsxs)(A.Z,{color:We!==Le?"warning":void 0,children:[(0,W.qs)(null!==(n=G.ZP.mainStatValue(Oe,Ke,We))&&void 0!==n?n:0,W.ZP.unit(Oe)),Ve]})})}),(0,B.jsx)(O.q,{stars:Ke,colored:!0})]}),(0,B.jsx)(v.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,B.jsx)(v.Z,{component:"img",src:null!==(t=null===he||void 0===he?void 0:he.slotIcons[_e])&&void 0!==t?t:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,B.jsxs)(g.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0,width:"100%"},children:[Fe.map((function(e){return!!e.value&&(0,B.jsx)(U,{stat:e,effFilter:te,rarity:Ke},e.key)})),(0,B.jsxs)(Z.Z,{variant:"caption",sx:{display:"flex",gap:1,my:1},children:[(0,B.jsx)(A.Z,{color:"secondary",sx:{flexGrow:1},children:ue(r||(r=(0,o.Z)(["artifact:editor.curSubEff"])))}),(0,B.jsx)(L.Z,{value:Ee,max:900,valid:Te}),Ee!==Ce&&(0,B.jsx)("span",{children:"/"}),Ee!==Ce&&(0,B.jsx)(L.Z,{value:Ce,max:900,valid:Te})]}),Ee!==Ie&&(0,B.jsxs)(Z.Z,{variant:"caption",sx:{display:"flex",gap:1},children:[(0,B.jsx)(A.Z,{color:"secondary",sx:{flexGrow:1},children:ue(i||(i=(0,o.Z)(["artifact:editor.maxSubEff"])))}),(0,B.jsx)(L.Z,{value:Ie,max:900,valid:Te}),Ie!==Pe&&(0,B.jsx)("span",{children:"/"}),Ie!==Pe&&(0,B.jsx)(L.Z,{value:Pe,max:900,valid:Te})]}),(0,B.jsx)(v.Z,{flexGrow:1}),void 0!==we.probability&&we.probability>=0&&(0,B.jsxs)("strong",{children:["Probability: ",(100*we.probability).toFixed(2),"%"]}),(0,B.jsxs)(Z.Z,{color:"success.main",children:[null!==(l=null===he||void 0===he?void 0:he.name)&&void 0!==l?l:"Artifact Set"," ",he&&(0,B.jsx)(K.Z,{title:(0,B.jsx)(E.A,{artifactSheet:he})})]})]})]}),(0,B.jsxs)(v.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,B.jsx)(v.Z,{sx:{flexGrow:1},children:ve&&oe?(0,B.jsx)(P.W,{location:Ne,setLocation:xe}):(0,B.jsx)(M.Z,{location:Ne})}),ve&&(0,B.jsxs)(j.Z,{sx:{height:"100%"},children:[ie&&(0,B.jsx)(b.Z,{title:(0,B.jsx)(Z.Z,{children:ue(a||(a=(0,o.Z)(["artifact:edit"])))}),placement:"top",arrow:!0,children:(0,B.jsx)(k.Z,{color:"info",size:"small",onClick:je,children:(0,B.jsx)(f.G,{icon:u.Xcf,className:"fa-fw"})})}),ce&&(0,B.jsx)(b.Z,{title:(0,B.jsxs)(v.Z,{children:[(0,B.jsx)(Z.Z,{children:ue(c||(c=(0,o.Z)(["artifact:excludeArtifactTip"])))}),(0,B.jsx)(Z.Z,{children:(0,B.jsx)(A.Z,{color:Ge?"error":"success",children:ue("artifact:".concat(Ge?"excluded":"included"))})})]}),placement:"top",arrow:!0,children:(0,B.jsx)(k.Z,{onClick:function(){return fe.arts.set(Me,{exclude:!Ge})},color:Ge?"error":"success",size:"small",children:(0,B.jsx)(f.G,{icon:Ge?u.gPx:u.Stf,className:"fa-fw"})})}),!!J&&(0,B.jsx)(k.Z,{color:"error",size:"small",onClick:function(){return J(Me)},disabled:Ae,children:(0,B.jsx)(f.G,{icon:u.I7k,className:"fa-fw"})}),se]})]})]})]})}function U(e){var n,t,r,i=e.stat,a=e.effFilter,c=e.rarity,o=null!==(n=null===(t=i.rolls)||void 0===t?void 0:t.length)&&void 0!==n?n:0,s=i.key?G.ZP.substatValue(i.key):0,u=(0,w.useMemo)((function(){return i.key?G.ZP.getSubstatRollData(i.key,c):[]}),[i.key,c]),f=7-u.length,d="roll".concat((0,q.uZ)(o,1,6)),h=null!==(r=i.efficiency)&&void 0!==r?r:0,x=i.key&&a.has(i.key),y=(0,q.V2)(.5+h/500*.5),p=W.ZP.getStr(i.key),m=W.ZP.unit(i.key),g=(0,w.useMemo)((function(){return(0,B.jsx)(v.Z,{display:"flex",gap:.25,height:"1.3em",sx:{opacity:x?1:.3},children:(0,l.Z)(i.rolls).sort().map((function(e,n){return(0,B.jsx)(X,{value:100*e/s,color:"roll".concat((0,q.uZ)(f+u.indexOf(e),1,6),".main")},"".concat(n).concat(e))}))})}),[x,i.rolls,s,u,f]);return(0,B.jsxs)(v.Z,{display:"flex",gap:1,alignContent:"center",children:[(0,B.jsxs)(Z.Z,{sx:{flexGrow:1},color:o?"".concat(d,".main"):"error.main",component:"span",children:[F.Z[i.key]," ",p,"+".concat((0,W.qs)(i.value,W.ZP.unit(i.key))).concat(m)]}),g,(0,B.jsxs)(Z.Z,{sx:{opacity:y,minWidth:40,textAlign:"right"},children:[h.toFixed(),"%"]})]})}function X(e){var n=e.color,t=void 0===n?"red":n,r=e.value,i=void 0===r?50:r;return(0,B.jsx)(v.Z,{sx:{width:7,height:"100%",bgcolor:t,overflow:"hidden",borderRadius:1,display:"inline-block"},children:(0,B.jsx)(v.Z,{sx:{width:10,height:"".concat(100-(0,q.uZ)(i,0,100),"%"),bgcolor:"gray"}})})}},44824:function(e,n,t){t.d(n,{Af:function(){return u},EM:function(){return h},OQ:function(){return s},sZ:function(){return f},t$:function(){return x},x3:function(){return d}});var r=t(37762),i=t(93433),a=t(98620),c=t(50765),l=t(24351),o=t(44217),s=["rarity","level","artsetkey","efficiency","mefficiency","probability"];function u(){return{artSetKeys:[],rarity:(0,i.Z)(l.En),levelLow:0,levelHigh:20,slotKeys:(0,i.Z)(l.eV),mainStatKeys:[],substats:[],location:"",exclusion:["excluded","included"],locked:["locked","unlocked"],rvLow:0,rvHigh:900,lines:[1,2,3,4]}}var f=function(){return{filterOption:u(),ascending:!1,sortType:s[0]}};function d(e,n){return{rarity:function(e){var n;return null!==(n=e.rarity)&&void 0!==n?n:0},level:function(e){var n;return null!==(n=e.level)&&void 0!==n?n:0},artsetkey:function(e){var n;return null!==(n=e.setKey)&&void 0!==n?n:""},efficiency:function(n){return a.ZP.getArtifactEfficiency(n,e).currentEfficiency},mefficiency:function(n){return a.ZP.getArtifactEfficiency(n,e).maxEfficiency},probability:function(e){if(!Object.keys(n).length)return 0;var t=e.probability;return void 0===t?(0,o.B)(e,n):t}}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set(c._);return{exclusion:function(e,n){return!(!n.includes("included")&&!e.exclude)&&!(!n.includes("excluded")&&e.exclude)},locked:function(e,n){return!(!n.includes("locked")&&e.lock)&&!(!n.includes("unlocked")&&!e.lock)},location:function(e,n){return!n||("Inventory"===n&&!e.location||(!("Equipped"!==n||!e.location)||n===e.location))},artSetKeys:function(e,n){return!n.length||n.includes(e.setKey)},slotKeys:function(e,n){return n.includes(e.slotKey)},mainStatKeys:function(e,n){return!n.length||n.includes(e.mainStatKey)},levelLow:function(e,n){return n<=e.level},levelHigh:function(e,n){return n>=e.level},rvLow:function(n,t){return 0===t||t<=a.ZP.getArtifactEfficiency(n,e).currentEfficiency},rvHigh:function(n,t){return 900===t||t>=a.ZP.getArtifactEfficiency(n,e).currentEfficiency},rarity:function(e,n){return n.includes(e.rarity)},substats:function(e,n){var t,i=(0,r.Z)(n);try{var a=function(){var n=t.value;if(n&&!e.substats.some((function(e){return e.key===n})))return{v:!1}};for(i.s();!(t=i.n()).done;){var c=a();if("object"===typeof c)return c.v}}catch(l){i.e(l)}finally{i.f()}return!0},lines:function(e,n){return n.includes(e.substats.filter((function(e){return e.value})).length)}}}var x={level:["level","rarity","artsetkey"],rarity:["rarity","level","artsetkey"],artsetkey:["artsetkey","rarity","level"],efficiency:["efficiency"],mefficiency:["mefficiency"],probability:["probability"]}},44217:function(e,n,t){t.d(n,{B:function(){return j}});var r=t(29439),i=t(37762),a=t(4942),c=t(1413),l=t(93433),o=t(60393),s=t(98620),u=t(12354),f=[3,4,6],d={hp:6,atk:6,def:6,hp_:4,atk_:4,def_:4,eleMas:4,enerRech_:4,critRate_:3,critDMG_:3},h={};function x(e,n,t,r){if(5!==e.length)for(var i=0,s=f;i<s.length;i++){var u=s[i];n[u]>0&&x([].concat((0,l.Z)(e),[u]),(0,c.Z)((0,c.Z)({},n),{},(0,a.Z)({},u,n[u]-u)),t-u,r*n[u]/t)}else(0,o.SR)(h,e,r)}x([0],{3:6,4:20,6:18},44,1),x([3],{3:3,4:20,6:18},41,1),x([4],{3:6,4:16,6:18},40,1),x([6],{3:6,4:20,6:12},38,1);for(var v=Array(6).fill(0).map((function(e,n){for(var t=[1],r=0,i=1;++r<=n;)i*=n-r+1,i/=r,t.push(i);return t})),y=[[1]],Z=function(){var e=y[y.length-1],n=Array(e.length+3).fill(0);e.forEach((function(e,t){for(var r=0,i=[0,1,2,3];r<i.length;r++){n[t+i[r]]+=e}})),y.push(n.map((function(e){return e/4})))};y.length<6;)Z();for(var p=function(){var e=g[m],n=e.reduce((function(e,n){return e+n}));e.forEach((function(e,t,r){r[t]=n,n-=e}))},m=0,g=y;m<g.length;m++)p();function j(e,n){if(e.rarity<=2)return NaN;var t=e.rarity,l=e.level,x=e.substats,Z=(0,c.Z)({},n),p=new Set(Object.keys(Z)),m=0,g=e.mainStatKey;if(g in Z){var j=4*t;if(u[t][g][j]<Z[g])return 0;delete Z[g],p.delete(g)}var b,k=(0,i.Z)(x);try{for(k.s();!(b=k.n()).done;){var w=b.value,S=w.key,E=w.value;S?p.has(S)&&(p.delete(S),Z[S]>E?Z[S]-=E:delete Z[S]):m+=1}}catch(G){k.e(G)}finally{k.f()}if(m+=4-x.length,p.size>m||Object.keys(Z).length>4)return 0;for(var I=s.ZP.rollsRemaining(l,t)-m,C=0,P=Object.entries(Z);C<P.length;C++){var M=(0,r.Z)(P[C],2),A=M[0],_=M[1];Z[A]=Math.max(Math.ceil(10*_/s.ZP.substatValue(A,t)),1)}var K=0,L=Object.entries(Z).map((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1],a=p.has(t)?1:0,c=Math.ceil(i/10)-a;return K+=c,{target:i,filler:a,minUpgrade:c}})).reverse();if(K>I)return 0;var O=(0,a.Z)({},I,1),F=I-K;return L.forEach((function(e,n){for(var t,i,a,c=e.target,l=e.filler,o=e.minUpgrade,s={},u=o;u<=o+F;u++)for(var f=c-7*(u+l),d=f>0?y[u+l][f]:1,h=0,x=Object.entries(O);h<x.length;h++){var Z,p=(0,r.Z)(x[h],2),m=p[0],g=p[1],j=parseInt(m);if(!(j<u)){var b=(i=u,a=4-n,v[t=j][i]*Math.pow(a-1,t-i)/Math.pow(a,t)),k=j-u;s[k]=(null!==(Z=s[k])&&void 0!==Z?Z:0)+g*d*b}}O=s})),function(e,n,t){var r,a,c=null!==(r=d[e])&&void 0!==r?r:0,l=0,s={3:2,4:5,6:3},u=h[c],x=(0,i.Z)(n);try{for(x.s();!(a=x.n()).done;){var y=a.value.key;if(y){var Z=d[y];u=u[Z],s[Z]-=1}}}catch(G){x.e(G)}finally{x.f()}c&&(s[c]-=1);var p,m={3:0,4:0,6:0},g=(0,i.Z)(t);try{for(g.s();!(p=g.n()).done;){var j=p.value;m[d[j]]+=1}}catch(G){g.e(G)}finally{g.f()}var b=0;(0,o.Q1)(u,[],(function(e){return"number"===typeof e}),(function(e,n){b+=e;var t,r={3:0,4:0,6:0},a=(0,i.Z)(n);try{for(a.s();!(t=a.n()).done;){r[t.value]+=1}}catch(G){a.e(G)}finally{a.f()}var c,o=e,s=(0,i.Z)(f);try{for(s.s();!(c=s.n()).done;){var u=c.value,d=r[u],h=m[u];if(d<h)return;o*=v[d][h]}}catch(G){s.e(G)}finally{s.f()}l+=o}));var k,w=(0,i.Z)(f);try{for(w.s();!(k=w.n()).done;){var S=k.value;l/=v[s[S]][m[S]]}}catch(G){w.e(G)}finally{w.f()}return l/b}(e.mainStatKey,x,p)*Object.values(O).reduce((function(e,n){return e+n}))}},63372:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(29439),i=t(72791),a=t(31096);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,i.useContext)(a.t),t=n.database,c=(0,i.useState)(t.arts.get(e)),l=(0,r.Z)(c,2),o=l[0],s=l[1];return(0,i.useEffect)((function(){return s(t.arts.get(e))}),[t,e]),(0,i.useEffect)((function(){return e?t.arts.follow(e,(function(e,n,t){return"update"===n&&s(t)})):void 0}),[e,s,t]),o}}}]);
//# sourceMappingURL=647.d22b39d9.chunk.js.map